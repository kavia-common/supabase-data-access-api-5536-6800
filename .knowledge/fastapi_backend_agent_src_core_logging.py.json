{"is_source_file": true, "format": "Python", "description": "This file defines a custom JSON log formatter for structured logging in a FastAPI backend, along with functions to configure loggers and generate trace IDs.", "external_files": ["./config"], "external_methods": ["get_settings"], "published": ["get_logger", "generate_trace_id"], "classes": [{"name": "JsonLogFormatter", "description": "A custom logging.Formatter that outputs logs as JSON, integrating with uvicorn logs."}], "methods": [{"name": "str format(self, record: logging.LogRecord)", "description": "Formats a LogRecord as a JSON string, including timestamp, level, logger, message, and optional attributes.", "scope": "JsonLogFormatter", "scopeKind": "class"}, {"name": "None _ensure_root_configured(level: str)", "description": "Configures the root logger with a JSON formatter, ensuring it is only set up once, and aligns uvicorn loggers.", "scope": "", "scopeKind": ""}, {"name": "logging.Logger get_logger(name: Optional[str] = None)", "description": "Provides a configured logger with JSON formatting and uvicorn compatibility, respecting settings.", "scope": "", "scopeKind": ""}, {"name": "str generate_trace_id()", "description": "Generates a UUID-based trace ID for correlation in logs and error responses.", "scope": "", "scopeKind": ""}], "calls": ["get_settings", "logging.getLogger", "logging.StreamHandler", "logging.Formatter", "json.dumps", "time.strftime", "time.localtime", "uuid.uuid4"], "search-terms": ["JsonLogFormatter", "structured logging", "json logs", "trace ID", "uvicorn log configuration", "logging setup"], "state": 2, "file_id": 7, "knowledge_revision": 65, "git_revision": "d8b6cadced110b33aedbf153b916648be8818cb0", "revision_history": [{"15": ""}, {"27": "d8b6cadced110b33aedbf153b916648be8818cb0"}, {"65": "d8b6cadced110b33aedbf153b916648be8818cb0"}], "ctags": [{"_type": "tag", "name": "JsonLogFormatter", "path": "/home/kavia/workspace/code-generation/supabase-data-access-api-5536-6800/fastapi_backend_agent/src/core/logging.py", "pattern": "/^class JsonLogFormatter(logging.Formatter):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_ensure_root_configured", "path": "/home/kavia/workspace/code-generation/supabase-data-access-api-5536-6800/fastapi_backend_agent/src/core/logging.py", "pattern": "/^def _ensure_root_configured(level: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(level: str)"}, {"_type": "tag", "name": "format", "path": "/home/kavia/workspace/code-generation/supabase-data-access-api-5536-6800/fastapi_backend_agent/src/core/logging.py", "pattern": "/^    def format(self, record: logging.LogRecord) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, record: logging.LogRecord)", "scope": "JsonLogFormatter", "scopeKind": "class"}, {"_type": "tag", "name": "generate_trace_id", "path": "/home/kavia/workspace/code-generation/supabase-data-access-api-5536-6800/fastapi_backend_agent/src/core/logging.py", "pattern": "/^def generate_trace_id() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_logger", "path": "/home/kavia/workspace/code-generation/supabase-data-access-api-5536-6800/fastapi_backend_agent/src/core/logging.py", "pattern": "/^def get_logger(name: Optional[str] = None) -> logging.Logger:$/", "language": "Python", "typeref": "typename:logging.Logger", "kind": "function", "signature": "(name: Optional[str] = None)"}], "hash": "6796de492f70659852e4c64c355aca03", "format-version": 4, "code-base-name": "fastapi_backend_agent", "filename": "fastapi_backend_agent/src/core/logging.py"}